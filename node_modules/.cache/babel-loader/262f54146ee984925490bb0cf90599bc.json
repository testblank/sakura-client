{"ast":null,"code":"import _regeneratorRuntime from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/testblank/Documents/heurm-client/src/containers/Base/HeaderContainer.js\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport React, { Component } from \"react\";\nimport Header, { LoginButton, ProfileButton } from \"components/Base/Header\";\nimport { connect } from \"react-redux\";\nimport * as userActions from \"redux/modules/user\";\nimport { bindActionCreators } from \"redux\";\nimport storage from \"lib/storage\";\n\nvar HeaderContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HeaderContainer, _Component);\n\n  function HeaderContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, HeaderContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(HeaderContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.handleLogout =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var UserActions;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              UserActions = _this.props.UserActions;\n              _context.prev = 1;\n              _context.next = 4;\n              return UserActions.logout();\n\n            case 4:\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 9:\n              storage.remove(\"loggedInfo\");\n              window.location.href = \"/\";\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 6]]);\n    }));\n    return _this;\n  }\n\n  _createClass(HeaderContainer, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          visible = _this$props.visible,\n          user = _this$props.user;\n\n      if (!visible) {\n        return null;\n      }\n\n      var handleLogout = this.handleLogout,\n          handleClick = this.handleClick;\n      return React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, user.get(\"logged\") ? React.createElement(ProfileButton, {\n        username: user.getIn([\"loggedInfo\", \"username\"]),\n        thumbnail: user.getIn([\"loggedInfo\", \"thumbnail\"]),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }) : React.createElement(LoginButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return HeaderContainer;\n}(Component);\n\nvar _default = connect(function (state) {\n  return {\n    visible: state.base.getIn([\"header\", \"visible\"]),\n    user: state.user\n  };\n}, function (dispatch) {\n  return {\n    UserActions: bindActionCreators(userActions, dispatch)\n  };\n})(HeaderContainer);\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(HeaderContainer, \"HeaderContainer\", \"/Users/testblank/Documents/heurm-client/src/containers/Base/HeaderContainer.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/testblank/Documents/heurm-client/src/containers/Base/HeaderContainer.js\");\n  leaveModule(module);\n})();\n\n;","map":{"version":3,"sources":["/Users/testblank/Documents/heurm-client/src/containers/Base/HeaderContainer.js"],"names":["React","Component","Header","LoginButton","ProfileButton","connect","userActions","bindActionCreators","storage","HeaderContainer","handleLogout","UserActions","props","logout","console","log","remove","window","location","href","visible","user","handleClick","get","getIn","state","base","dispatch"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,IAAiBC,WAAjB,EAA8BC,aAA9B,QAAmD,wBAAnD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,WAAZ,MAA6B,oBAA7B;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,OAAOC,OAAP,MAAoB,aAApB;;IAEMC,e;;;;;;;;;;;;;;;;;UACJC,Y;;;;6BAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,cAAAA,WADK,GACW,MAAKC,KADhB,CACLD,WADK;AAAA;AAAA;AAAA,qBAGLA,WAAW,CAACE,MAAZ,EAHK;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAKXC,cAAAA,OAAO,CAACC,GAAR;;AALW;AAQbP,cAAAA,OAAO,CAACQ,MAAR,CAAe,YAAf;AACAC,cAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;;AATa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;6BAWN;AAAA,wBACmB,KAAKP,KADxB;AAAA,UACCQ,OADD,eACCA,OADD;AAAA,UACUC,IADV,eACUA,IADV;;AAEP,UAAI,CAACD,OAAL,EAAc;AACZ,eAAO,IAAP;AACD;;AAJM,UAKCV,YALD,GAK+B,IAL/B,CAKCA,YALD;AAAA,UAKeY,WALf,GAK+B,IAL/B,CAKeA,WALf;AAMP,aACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGD,IAAI,CAACE,GAAL,CAAS,QAAT,IACC,oBAAC,aAAD;AACE,QAAA,QAAQ,EAAEF,IAAI,CAACG,KAAL,CAAW,CAAC,YAAD,EAAe,UAAf,CAAX,CADZ;AAEE,QAAA,SAAS,EAAEH,IAAI,CAACG,KAAL,CAAW,CAAC,YAAD,EAAe,WAAf,CAAX,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,GAMC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPJ,CADF;AAYD;;;;;;;;;;;EA9B2BvB,S;;eAiCfI,OAAO,CACpB,UAAAoB,KAAK;AAAA,SAAK;AACRL,IAAAA,OAAO,EAAEK,KAAK,CAACC,IAAN,CAAWF,KAAX,CAAiB,CAAC,QAAD,EAAW,SAAX,CAAjB,CADD;AAERH,IAAAA,IAAI,EAAEI,KAAK,CAACJ;AAFJ,GAAL;AAAA,CADe,EAKpB,UAAAM,QAAQ;AAAA,SAAK;AACXhB,IAAAA,WAAW,EAAEJ,kBAAkB,CAACD,WAAD,EAAcqB,QAAd;AADpB,GAAL;AAAA,CALY,CAAP,CAQblB,eARa,C;;AAAf;;;;;;;;;;;;0BAjCMA,e","sourcesContent":["import React, { Component } from \"react\";\nimport Header, { LoginButton, ProfileButton } from \"components/Base/Header\";\nimport { connect } from \"react-redux\";\nimport * as userActions from \"redux/modules/user\";\nimport { bindActionCreators } from \"redux\";\nimport storage from \"lib/storage\";\n\nclass HeaderContainer extends Component {\n  handleLogout = async () => {\n    const { UserActions } = this.props;\n    try {\n      await UserActions.logout();\n    } catch (error) {\n      console.log(error);\n    }\n\n    storage.remove(\"loggedInfo\");\n    window.location.href = \"/\";\n  };\n  render() {\n    const { visible, user } = this.props;\n    if (!visible) {\n      return null;\n    }\n    const { handleLogout, handleClick } = this;\n    return (\n      <Header>\n        {user.get(\"logged\") ? (\n          <ProfileButton\n            username={user.getIn([\"loggedInfo\", \"username\"])}\n            thumbnail={user.getIn([\"loggedInfo\", \"thumbnail\"])}\n          />\n        ) : (\n          <LoginButton />\n        )}\n      </Header>\n    );\n  }\n}\n\nexport default connect(\n  state => ({\n    visible: state.base.getIn([\"header\", \"visible\"]),\n    user: state.user\n  }),\n  dispatch => ({\n    UserActions: bindActionCreators(userActions, dispatch)\n  })\n)(HeaderContainer);\n"]},"metadata":{},"sourceType":"module"}