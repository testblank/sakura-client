{"ast":null,"code":"import _regeneratorRuntime from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/testblank/Documents/heurm-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/testblank/Documents/heurm-client/src/App.js\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nimport React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { Home, Auth } from \"./pages\";\nimport HeaderContainer from \"./containers/Base/HeaderContainer\";\nimport storage from \"lib/storage\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as userActions from \"redux/modules/user\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.initializeUserInfo =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var loggedInfo, UserActions;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              loggedInfo = storage.get(\"loggedInfo\");\n\n              if (loggedInfo) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              UserActions = _this.props.UserActions;\n              UserActions.setLoggedInfo(loggedInfo);\n              _context.prev = 5;\n              _context.next = 8;\n              return UserActions.checkStatus();\n\n            case 8:\n              _context.next = 14;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](5);\n              storage.remove(\"loggedInfo\");\n              window.location.href = \"/auth/login?expired\";\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[5, 10]]);\n    }));\n\n    _this.componentDidMount = function () {\n      _this.initializeUserInfo();\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(HeaderContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: Home,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/auth\",\n        component: Auth,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar _default = connect(null, function (dispatch) {\n  return {\n    UserActions: bindActionCreators(userActions, dispatch)\n  };\n})(App);\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(App, \"App\", \"/Users/testblank/Documents/heurm-client/src/App.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/testblank/Documents/heurm-client/src/App.js\");\n  leaveModule(module);\n})();\n\n;","map":{"version":3,"sources":["/Users/testblank/Documents/heurm-client/src/App.js"],"names":["React","Component","Route","Home","Auth","HeaderContainer","storage","connect","bindActionCreators","userActions","App","initializeUserInfo","loggedInfo","get","UserActions","props","setLoggedInfo","checkStatus","remove","window","location","href","componentDidMount","dispatch"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,SAA3B;AACA,OAAOC,eAAP,MAA4B,mCAA5B;AAEA,OAAOC,OAAP,MAAoB,aAApB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,OAAO,KAAKC,WAAZ,MAA6B,oBAA7B;;IAEMC,G;;;;;;;;;;;;;;;;;UACJC,kB;;;;6BAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AACbC,cAAAA,UADa,GACAN,OAAO,CAACO,GAAR,CAAY,YAAZ,CADA;;AAAA,kBAEdD,UAFc;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAKXE,cAAAA,WALW,GAKK,MAAKC,KALV,CAKXD,WALW;AAMnBA,cAAAA,WAAW,CAACE,aAAZ,CAA0BJ,UAA1B;AANmB;AAAA;AAAA,qBAQXE,WAAW,CAACG,WAAZ,EARW;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAUjBX,cAAAA,OAAO,CAACY,MAAR,CAAe,YAAf;AACAC,cAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,qBAAvB;;AAXiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;UAcrBC,iB,GAAoB,YAAM;AACxB,YAAKX,kBAAL;AACD,K;;;;;;;6BAEQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,GAAlB;AAAsB,QAAA,SAAS,EAAER,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,SAAS,EAAEC,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,CADF;AAOD;;;;;;;;;;;EA3BeH,S;;eA8BHM,OAAO,CACpB,IADoB,EAEpB,UAAAgB,QAAQ;AAAA,SAAK;AACXT,IAAAA,WAAW,EAAEN,kBAAkB,CAACC,WAAD,EAAcc,QAAd;AADpB,GAAL;AAAA,CAFY,CAAP,CAKbb,GALa,C;;AAAf;;;;;;;;;;;;0BA9BMA,G","sourcesContent":["import React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { Home, Auth } from \"./pages\";\nimport HeaderContainer from \"./containers/Base/HeaderContainer\";\n\nimport storage from \"lib/storage\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as userActions from \"redux/modules/user\";\n\nclass App extends Component {\n  initializeUserInfo = async () => {\n    const loggedInfo = storage.get(\"loggedInfo\");\n    if (!loggedInfo) {\n      return;\n    }\n    const { UserActions } = this.props;\n    UserActions.setLoggedInfo(loggedInfo);\n    try {\n      await UserActions.checkStatus();\n    } catch (error) {\n      storage.remove(\"loggedInfo\");\n      window.location.href = \"/auth/login?expired\";\n    }\n  };\n  componentDidMount = () => {\n    this.initializeUserInfo();\n  };\n\n  render() {\n    return (\n      <div>\n        <HeaderContainer />\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/auth\" component={Auth} />\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  dispatch => ({\n    UserActions: bindActionCreators(userActions, dispatch)\n  })\n)(App);\n"]},"metadata":{},"sourceType":"module"}